<!doctype html>
<html>
<head>
<title>La map</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
<link rel="stylesheet" href="stylemap.css">
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>
    <script type="text/javascript">
        var myIcon = L.icon({
            iconUrl: './img/pointer.png',
            iconSize: [36, 68],
            iconAnchor: [16, 53]
        });
        //initialise une map
        var mymap = L.map('map').setView([43.107895, 0.723579], 20);
        L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png',{maxZoom: 18,attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution">CARTO</a>',}).addTo(mymap);
        function GetPosMap(){
            // récupération de la position de l'utilisateur
            var lat,long;
            function maPosition(position) {
                lat = position.coords.latitude ;
                long = position.coords.longitude;
                // affichage de la map
                L.marker([lat, long], {icon: myIcon}).addTo(mymap);
            }

            if(navigator.geolocation)
                navigator.geolocation.getCurrentPosition(maPosition);
            
        }
        var intervalID = window.setInterval(GetPosMap, 3000);

    </script>
</body>
</html>